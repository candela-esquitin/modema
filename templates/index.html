{% extends 'base.html'%}
{% block content %}

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}
    {% endwith %}

    <div id="user-logeado" class="alert alert-success alert-dismissible fade show" role="alert">
        {% if usuario %}
        <p>Hola {{ usuario.email }}! | <a href="{{ url_for('usuario',id=usuario.id) }}" class="alert-link">Gestionar Proyectos</a></p>
        {% endif %}
    </div>


<div class="hero">
    <div class="overlay"></div>
    <div class="contenido">
        <h1 class="titulo">Soluciones industriales a tu medida</h1>
        <h4 class="texto">Montaje, desarrollos y mantenimientos a nivel industrial</h4>
        <button class="boton"><a href="{{ url_for('proyectos') }}" class="text-decoration-none text-body">Conoce nuestros proyectos</a></button>
    </div>
</div>

<div class="section1">
    <h1 class="titulo-section">¿Que hacemos?</h1>
    <div class="container">
        <div class="bloque">
            <div class="icon-wrapper">
                <div class="circulo"></div>
                <img src="{{ url_for('static', filename='images/settings.svg') }}" alt="" class="icon">
            </div>
            <p class="text-bloque texto">Deseamos que deje su problema en nuestras manos para que nosotros veamos la forma de resolverlos de la mejor y más redituable para ambas partes.</p>
        </div>
        <div class="bloque">
            <div class="icon-wrapper">
                <div class="circulo"></div>
                <img src="{{ url_for('static', filename='images/people.svg') }}" alt="" class="icon">
            </div>
            <p class="text-bloque texto">Si es su deseo podemos trabajar en equipo junto a ustedes. </p>
        </div>
    </div>
</div>

<div>
    <h1 class="titulo-section">Nosotros</h1>
    <div class="container">
        <div class="bloque-section2">
            <h3 class="titulo-bloque">Montaje</h3>
            <p class="texto-bloque2">En el montaje de equipos eléctricos y electrónicos contamos con experiencia en industrias químicas, alimenticias y de papel trabajando codo a codo con expertos e ingenieros de diferentes países y empresas de vanguardia.</p>
        </div>
        <div class="bloque-section2">
            <h3 class="titulo-bloque">Desarrollo</h3>
            <p class="texto-bloque2">Por el trabajo permanente en las industrias, desarrollamos diversos equipos como dosificadores químicos, sistemas de portones automáticos, automatismos de procesos, tableros eléctricos, sistemas de iluminación y seguridad, entre otros. Todos los trabajos incluyen, cuando corresponde, carpetas y planos eléctricos detallados.</p>
        </div>
        <div class="bloque-section2">
            <h3 class="titulo-bloque">Mantenimiento</h3>
            <p class="texto-bloque2">El personal de MODEMA cuenta con largos años de experiencia en el mantenimiento en diversas clases de industrias como químicas, alimenticias y papeleras en empresas de primer nivel contando con experiencia en búsqueda de fallas, mantenimiento preventivo y correctivo</p>
        </div>
    </div>
</div>

<div>
    <h1 class="titulo-section">Proyectos destados</h1>
    <div class="proyect-container">
        {% for i in proyectos[:4] %}
        <div class="col-12 col-md-4 col-lg-3 mb-5 d-flex justify-content-center align-items-center">
            <div class="proyect-card w-100">
                <div class="proyect-img-wrapper">
                    <img src="{{ url_for('static', filename=i.img_principal.lstrip('/')) }}"
                        alt="{{ i.titulo }}"
                        class="proyect-img img-fluid"
                        data-bs-toggle="modal"
                        data-bs-target="#modal{{ i.id }}">
                </div>
                <div class="proyect-info">
                    <h3 class="proyect-title">{{ i.titulo }}</h3>
                </div>
            </div>
            <!-- Modal -->
            <div class="modal fade" id="modal{{ i.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">{{ i.titulo }}</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <img class="proyect-img img-fluid" src="{{ url_for('static', filename=i.img_principal.lstrip('/')) }}" alt="">
                            {% if i.img_sec1 and i.img_sec1 != 'none' %}
                                <img class="proyect-img img-fluid" src="{{ url_for('static', filename=i.img_sec1.lstrip('/')) }}" alt="">
                            {% endif %}
                            {% if i.img_sec2 and i.img_sec2 != 'none' %}
                                <img class="proyect-img img-fluid" src="{{ url_for('static', filename=i.img_sec2.lstrip('/')) }}" alt="">
                            {% endif %}
                            <h4 class="modal-descrip">{{ i.descrip }}</h4>
                        </div>
                        <div class="modal-footer">
                            <button class="boton" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div> 
        {% endfor %}
    </div>

    <div class="boton-container">
        <button class="boton boton-proyect"><a href="{{ url_for('proyectos') }}" class="text-decoration-none text-body">Ver Mas</a></button>
    </div>
</div>

{% endblock %}